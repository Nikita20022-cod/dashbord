import{e as d,p as A,o as v,c as L,s as V,r as R,k as w,C as S,v as B,x as M,y as W,z,l as G,A as k,B as $,D as J,L as H,E as Q,j as T,w as j,b as h,i as m,G as O,a as P}from"./D7-AV2PK.js";const X={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 h-[360px]"},E=d({__name:"BaseChart",props:{title:{}},setup(t){const e=t,a=R(!1);A(()=>{a.value=document.documentElement.classList.contains("dark")});const r=w(()=>a.value?"#D1D5DB":"#6B7280"),s=w(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:r.value}},title:{display:!0,text:e.title,color:r.value}},scales:{x:{ticks:{color:r.value},grid:{display:!1}},y:{ticks:{color:r.value},grid:{color:"rgba(156,163,175,0.2)"}}}}));return(n,l)=>(v(),L("div",X,[V(n.$slots,"default",{options:s.value})]))}}),F={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Y={ariaLabel:{type:String},ariaDescribedby:{type:String}},Z={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...F,...Y},tt=W[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function u(t){return $(t)?k(t):t}function et(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return $(e)?new Proxy(t,{}):t}function at(t,e){const a=t.options;a&&e&&Object.assign(a,e)}function I(t,e){t.labels=e}function N(t,e,a){const r=[];t.datasets=e.map(s=>{const n=t.datasets.find(l=>l[a]===s[a]);return!n||!s.data||r.includes(n)?{...s}:(r.push(n),Object.assign(n,s),n)})}function st(t,e){const a={labels:[],datasets:[]};return I(a,t.labels),N(a,t.datasets,e),a}const nt=d({props:Z,setup(t,e){let{expose:a,slots:r}=e;const s=R(null),n=M(null);a({chart:n});const l=()=>{if(!s.value)return;const{type:o,data:f,options:y,plugins:p,datasetIdKey:x}=t,b=st(f,x),c=et(b,f);n.value=new S(s.value,{type:o,data:c,options:{...y},plugins:p})},_=()=>{const o=k(n.value);o&&(t.destroyDelay>0?setTimeout(()=>{o.destroy(),n.value=null},t.destroyDelay):(o.destroy(),n.value=null))},K=o=>{o.update(t.updateMode)};return A(l),z(_),G([()=>t.options,()=>t.data],(o,f)=>{let[y,p]=o,[x,b]=f;const c=k(n.value);if(!c)return;let g=!1;if(y){const i=u(y),C=u(x);i&&i!==C&&(at(c,i),g=!0)}if(p){const i=u(p.labels),C=u(b.labels),D=u(p.datasets),U=u(b.datasets);i!==C&&(I(c.config.data,i),g=!0),D&&D!==U&&(N(c.config.data,D,t.datasetIdKey),g=!0)}g&&Q(()=>{K(c)})},{deep:!0}),()=>B("canvas",{role:"img","aria-label":t.ariaLabel,"aria-describedby":t.ariaDescribedby,ref:s},[B("p",{},[r.default?r.default():""])])}});function q(t,e){return S.register(e),d({props:F,setup(a,r){let{expose:s}=r;const n=M(null),l=_=>{n.value=_?.chart};return s({chart:n}),()=>B(nt,tt({ref:l},{type:t,...a}))}})}const rt=q("bar",J),ot=q("line",H),lt=d({__name:"LineChart",props:{data:{},title:{}},setup(t){return(e,a)=>{const r=E;return v(),T(r,{title:t.title},{default:j(({options:s})=>[h(m(ot),{data:t.data,options:s},null,8,["data","options"])]),_:1},8,["title"])}}}),ct=d({__name:"BarChart",props:{data:{},title:{}},setup(t){return(e,a)=>{const r=E;return v(),T(r,{title:t.title},{default:j(({options:s})=>[h(m(rt),{data:t.data,options:s},null,8,["data","options"])]),_:1},8,["title"])}}});function it(){const t=O({labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Revenue",data:[120,190,300,250,220,310,400],borderColor:"#3B82F6",backgroundColor:"rgba(59,130,246,0.15)",tension:.4,fill:!0}]}),e=O({labels:["Jan","Feb","Mar","Apr","May"],datasets:[{label:"Orders",data:[45,78,60,92,110],backgroundColor:"#10B981"}]});return{revenueData:t,ordersData:e}}const ut={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},pt=d({__name:"analytics",setup(t){const{revenueData:e,ordersData:a}=it();return(r,s)=>{const n=lt,l=ct;return v(),L("div",null,[s[0]||(s[0]=P("h1",{class:"text-2xl font-semibold mb-6 dark:text-white"}," Analytics ",-1)),P("div",ut,[h(n,{data:m(e),title:"Weekly Revenue"},null,8,["data"]),h(l,{data:m(a),title:"Monthly Orders"},null,8,["data"])])])}}});export{pt as default};
